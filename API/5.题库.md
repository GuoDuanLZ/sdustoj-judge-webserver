题库相关API
==

## 题库相关定义

定义：

```
题库 = { 结点集 }
结点集 = { n | type(n) = 结点 }
结点 = { ptr(题库), ptr(父结点), 题目连接集 }
```

限制：

```
父结点与子结点需同属一个题库
```

<br />

## 题库API

### 权限

题库管理员与题目管理员均有权使用此套API。

### API

* 列表

    URL：

    ```
    GET|POST /api-server/categories/
    ```

    属性：

    ```
    {
        *id: 题库id,
        title: 题库标题,
        introduction: 题库简介,
        source: 来源,
        author: 作者,
        status: 状态,
        *creator: 创建者,
        *updater: 最后更新者,
        *create_time: 创建时间,
        *update_time: 最后更新时间
    }
    ```

* 详情

    URL：

    ```
    GET|PUT|UPDATE|DELETE /api-server/categories/{ category id }/
    ```

    属性：

    ```
    {
        *id: 题库id,
        title: 题库标题,
        introduction: 题库简介,
        source: 来源,
        author: 作者,
        status: 状态,
        *creator: 创建者,
        *updater: 最后更新者,
        *create_time: 创建时间,
        *update_time: 最后更新时间
    }
    ```

## 结点API

### 权限

题库管理员与题目管理员均有权使用此套API。

### API

* 结点信息

    * 列表

        URL：

        ```
        GET|POST /api-server/categories/{ category id }/nodes/
        ```

        属性：

        ```
        {
            *id: 题库id,
            *category: 结点所属题库,
            parent: 父结点（若为题库的根结点则为null）,
            title: 题库标题,
            introduction: 题库简介,
            status: 状态,
            *creator: 创建者,
            *updater: 最后更新者,
            *create_time: 创建时间,
            *update_time: 最后更新时间
        }
        ```

    * 详情

        URL：

        ```
        GET|PUT|UPDATE|DELETE /api-server/categories/{ category id }/nodes/{ node id }/
        ```

        属性：

        ```
        {
            *id: 题库id,
            *category: 结点所属题库,
            parent: 父结点（若为题库的根结点则为null）,
            title: 题库标题,
            introduction: 题库简介,
            status: 状态,
            *creator: 创建者,
            *updater: 最后更新者,
            *create_time: 创建时间,
            *update_time: 最后更新时间
        }
        ```

* 结点下题目基本信息

    * 列表

        URL：

        ```
        GET|POST /api-server/nodes/{ node id }/problems/
        ```

        属性：

        ```
        {
            *id: 题目id,
            *title: 标题,
            *introduction: 简介,
            *test_type: 评测类型（严格、非空白符、非标点符）,
            *meta_problem: 所属题元id,
            *description: 选用的题意描述id,
            *sample: 选用的样例描述id,
            *source: 来源,
            *author: 原作者,
            *status: 状态,
            *creator: 创建者,
            *updater: 更新者,
            *create_time: 创建时间,
            *update_time: 更新时间,
        }
        ```

    * 详情

        URL：

        ```
        GET|PUT|UPDATE|DELETE /api-server/nodes/{ node id }/problems/{ problem id }/
        ```

        属性：

        ```
        {
            *id: 题目id,
            *title: 标题,
            *introduction: 简介,
            *test_type: 评测类型（严格、非空白符、非标点符）,
            *meta_problem: 所属题元id,
            *description: 选用的题意描述id,
            *sample: 选用的样例描述id,
            *source: 来源,
            *author: 原作者,
            *status: 状态,
            *creator: 创建者,
            *updater: 更新者,
            *create_time: 创建时间,
            *update_time: 更新时间,
        }
        ```

* 结点下题目连接

    * 列表

        URL：

        ```
        GET|POST /api-server/nodes/{ node id }/problem-rel/
        ```

        属性：

        ```
        {
            *id: 连接id,
            *category: 目录,
            *node: 结点,
            problem: 题目id,
            *creator: 创建者,
            *updater: 更新者,
            *create_time: 创建时间,
            *update_time: 更新时间,
        }
        ```

    * 详情

        URL：

        ```
        GET|PUT|UPDATE|DELETE /api-server/nodes/{ node id }/problems/{ problem_relation id }/
        ```

        属性：

        ```
        {
            *id: 连接id,
            *category: 目录,
            *node: 结点,
            problem: 题目id,
            *creator: 创建者,
            *updater: 更新者,
            *create_time: 创建时间,
            *update_time: 更新时间,
        }
        ```
